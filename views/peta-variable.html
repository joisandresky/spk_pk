<div id="peta-variable">
    <div id="wrapper-kriteria">
        <div class="row" ng-show="!loadedDPV">
            <div class="col-md-4 col-md-offset-4">
                <div id="kotak-kriteria" class="box-utils">
                    <h3>Cek Peta Kendali <small>Variable</small></h3>
                    <div class="form-group" ng-init="loadMaterial()">
                        <label for="material">Nama Material</label>
                        <select name="material" class="form-control" ng-model="peta.material">
                            <option ng-repeat="mat in produk" value="{{mat.kode_produk}}">{{mat.nama_material}}</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="tgl_awal">Tanggal Awal</label>
                        <input type="datetime" name="tgl_awal" ng-model="peta.sd" class="form-control">
                    </div>
                    <div class="form-group">
                        <label for="tgl_akhir">Tanggal Akhir</label>
                        <input type="datetime" name="tgl_akhir" ng-model="peta.ed" class="form-control">
                    </div>
                    <button class="btn btn-info btn-block" ng-click="cekKendali(peta)"><i class="fa fa-search"></i> Cek</button>
                </div>
            </div>
        </div>
        <div class="row" ng-show="loadedDPV">
            <div class="col md-12">
                <div id="kotak-tabel-r" class="box-utils">
                    <h3>Peta Kendali Variable</h3>
                    <table class="table table-condensed">
                        <thead>
                            <tr>
                                <th>Tanggal</th>
                                <th>Nama Material</th>
                                <th>X1</th>
                                <th>X2</th>
                                <th>X3</th>
                                <th>X4</th>
                                <th>X5</th>
                                <th>X6</th>
                                <th>X7</th>
                                <th>X8</th>
                                <th>X Bar</th>
                                <th>R</th>
                            </tr>
                        </thead>
                        <tbody ng-init="getXbar()">
                            <tr dir-paginate="pv in list_produksi | itemsPerPage: 10" ng-init="getXbar()">
                                <td>{{pv.tanggal_produksi}}</td>
                                <td>{{pv.materialnya}}</td>
                                <td>{{pv.x1}}</td>
                                <td>{{pv.x2}}</td>
                                <td>{{pv.x3}}</td>
                                <td>{{pv.x4}}</td>
                                <td>{{pv.x5}}</td>
                                <td>{{pv.x6}}</td>
                                <td>{{pv.x7}}</td>
                                <td>{{pv.x8}}</td>
                                <td>{{hitungXbar(pv)}}</td>
                                <td ng-init="getRbar()">{{Rbar(max(pv),min(pv))}}</td>
                            </tr>
                        </tbody>
                    </table>
                    <div>
                        <p class="text-right"><strong>Total X bar : {{TotalXbar}}</strong></p>
                        <p class="text-right"><strong>Rata-Rata X bar : {{rataXbar}}</strong></p>
                        <p class="text-right"><strong>Total R bar : {{TotalRbar}}</strong></p>
                        <p class="text-right"><strong>Rata-Rata R bar : {{rataRbar}}</strong></p>
                    </div>
                    <div class="text-center">
                        <dir-pagination-controls
                            max-size="5"
                            direction-links="true"
                            boundary-links="true">
                        </dir-pagination-controls>
                    </div>
                    <p class="text-info">Menampilkan Data Dari <strong>{{peta.sd | date}}</strong> sampai <strong>{{peta.ed | date}}</strong></p>
                </div>
            </div>
        </div>
        <br>
        <div class="row" ng-show="loadedDPV">
            <div class="col-md-10 box-utils">
                <div id="chartVariable"></div>
            </div>
            <div class="col-md-2 box-utils">
                <div id="chartXbar"></div>
            </div>
        </div>
    </div>
</div>